<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <style>
        table, th, td {
            border: 1px solid black;
        }
        </style>
    </head>
    <body>
        <div id="app">
            <table>
                <template v-if="state === 0">
                    <tr>
                        <th>id</th>
                        <th>judul</th>
                        <th>konten</th>
                        <th>kategori</th>
                    </tr>
    
                    <tr v-for="(article, index) in articles">
                        <td>{{ article.id }}</td>                        
                        <td>
                            <template v-if="selectedUpdateRow === index">
                                <input id="article-title" type="text" v-model="articleTitle">
                            </template>
                            <template v-else>
                                {{ article.title }}
                            </template>
                        </td>
                        <td>
                            <template v-if="selectedUpdateRow === index">
                                <input id="article-content" type="text"  v-model="articleContent">
                            </template>
                            <template v-else>
                                {{ article.content }}
                            </template>
                        </td>
                        <td>
                            <template v-if="selectedUpdateRow === index">
                                <input id="article-category" type="text" v-model="articleCategory">
                            </template>
                            <template v-else>
                                {{ article.categories.join(', ') }}
                            </template>
                        </td>
                        <td>
                            <template v-if="selectedUpdateRow === null">
                                <input type="button" value="update" v-on:click="doUpdateArticle(index)">
                                <input type="button" value="delete" v-on:click="deleteArticle(index)">
                            </template>
                            <template v-else-if="selectedUpdateRow === index">
                                <input type="button" value="update" v-on:click="updateArticle()">
                                <input type="button" value="cancel" v-on:click="cancelDoUpdateArticle()">
                            </template>
                        </td>
                    </tr>    
                    <tr v-if="selectedUpdateRow === null">
                        <td colspan="5">
                            <input style="width:100%;" type="button" value="insert" v-on:click="this.state = 1">
                        </td>
                    </tr>    
                </template>
                <template v-if="state === 1">
                    <tr>
                        <th>
                            <label for="article-title">title</label>
                        </th>
                        <td>
                            <input id="article-title" type="text" v-model="articleTitle">
                        </td>
                    </tr>
                    <tr>
                        <th>
                            <label for="article-content">content</label>
                        </th>
                        <td>
                            <input id="article-content" type="text" v-model="articleContent">
                        </td>
                    </tr>
                    <tr>
                        <th>
                            <label for="article-category">category</label>
                        </th>
                        <td>
                            <input id="article-category" type="text" v-model="articleCategory">
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <input type="button" value="cancel" v-on:click="this.state = 0">
                        </td>
                        <td>
                            <input style="width:100%;" type="button" value="insert" v-on:click="insertArticle()">
                        </td>
                    </tr>    
                </template>
            </table>
        </div>
        <script src="https://unpkg.com/vue@next"></script>
        <script src="js/main.js" type="text/javascript"></script>
    </body>
</html>